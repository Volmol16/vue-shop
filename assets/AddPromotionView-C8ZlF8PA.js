import{r as a,d as V,o as d,c as p,f as o,w as i,v as s,k as w}from"./index-GIQhIYmW.js";const m={class:"add-promotion"},N=o("h2",null,"Добавить страницу акции",-1),c={class:"form"},y={class:"inputs"},T=o("h3",null,"Что нового?",-1),x={class:"inputs"},h={class:"input"},U={class:"input"},f={class:"input"},_={class:"input"},g=["disabled"],k={key:0,class:"success"},b=o("p",null,"Страница успешно загружен",-1),C=[b],P={__name:"AddPromotionView",setup(j){const u=a(!1),e=a({url:"",title:"",description:"",image:"",NewVisionTitle:"",NewVision:"",NewVisionTitle2:"",NewVision2:"",NewVisionTitle3:"",NewVision3:"",NewVisionTitle4:"",NewVision4:""}),r=V(()=>e.value.url&&e.value.title&&e.value.description&&e.value.image&&e.value.NewVision&&e.value.NewVisionTitle),v=async()=>{try{const n=await fetch("https://5ea90011a42bf510.mokky.dev/promotions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)});if(!n.ok)throw new ErrorCodes("Ошибка при отправке данных: "+n.status);const t=await n.json();u.value=!0,console.log("Успех:",t),e.value={url:"",title:"",description:"",image:"",NewVision:"",NewVision2:"",NewVision3:"",NewVision4:""}}catch(n){console.log(n)}};return(n,t)=>(d(),p("div",m,[N,o("div",c,[o("div",y,[i(o("input",{type:"text",placeholder:"Название для URL","onUpdate:modelValue":t[0]||(t[0]=l=>e.value.url=l)},null,512),[[s,e.value.url]]),i(o("input",{type:"text",placeholder:"Название акции","onUpdate:modelValue":t[1]||(t[1]=l=>e.value.title=l)},null,512),[[s,e.value.title]]),i(o("input",{type:"text",placeholder:"Описание товара","onUpdate:modelValue":t[2]||(t[2]=l=>e.value.description=l)},null,512),[[s,e.value.description]]),i(o("input",{type:"url",placeholder:"Картинка товара","onUpdate:modelValue":t[3]||(t[3]=l=>e.value.image=l)},null,512),[[s,e.value.image]])]),T,o("div",x,[o("div",h,[i(o("input",{type:"text",placeholder:"Название нововвидение 1","onUpdate:modelValue":t[4]||(t[4]=l=>e.value.NewVisionTitle=l)},null,512),[[s,e.value.NewVisionTitle]]),i(o("input",{type:"text",placeholder:"Нововвидение 1","onUpdate:modelValue":t[5]||(t[5]=l=>e.value.NewVision=l)},null,512),[[s,e.value.NewVision]])]),o("div",U,[i(o("input",{type:"text",placeholder:"Название нововвидение 2","onUpdate:modelValue":t[6]||(t[6]=l=>e.value.NewVisionTitle2=l)},null,512),[[s,e.value.NewVisionTitle2]]),i(o("input",{type:"text",placeholder:"Нововвидение 2","onUpdate:modelValue":t[7]||(t[7]=l=>e.value.NewVision2=l)},null,512),[[s,e.value.NewVision2]])]),o("div",f,[i(o("input",{type:"text",placeholder:"Название нововвидение 3","onUpdate:modelValue":t[8]||(t[8]=l=>e.value.NewVisionTitle3=l)},null,512),[[s,e.value.NewVisionTitle3]]),i(o("input",{type:"text",placeholder:"Нововвидение 3","onUpdate:modelValue":t[9]||(t[9]=l=>e.value.NewVision3=l)},null,512),[[s,e.value.NewVision3]])]),o("div",_,[i(o("input",{type:"text",placeholder:"Название нововвидение 4","onUpdate:modelValue":t[10]||(t[10]=l=>e.value.NewVisionTitle4=l)},null,512),[[s,e.value.NewVisionTitle4]]),i(o("input",{type:"text",placeholder:"Нововвидение 4","onUpdate:modelValue":t[11]||(t[11]=l=>e.value.NewVision4=l)},null,512),[[s,e.value.NewVision4]])])]),o("button",{onClick:v,disabled:!r.value},"Отправить",8,g),u.value?(d(),p("div",k,C)):w("",!0)])]))}};export{P as default};
