import{r as d,d as p,o as r,c as v,f as l,w as i,v as n}from"./index-6h11GLJH.js";const V={class:"add-promotion"},m=l("h2",null,"Добавить страницу акции",-1),w={class:"form"},N={class:"inputs"},c=l("h3",null,"Что нового?",-1),y={class:"inputs"},f=["disabled"],U={__name:"AddPromotionView",setup(h){const e=d({url:"",title:"",description:"",image:"",NewVision:"",NewVision2:"",NewVision3:"",NewVision4:""}),a=p(()=>e.value.url&&e.value.title&&e.value.description&&e.value.image&&e.value.NewVision),u=async()=>{try{const s=await fetch("https://5ea90011a42bf510.mokky.dev/promotions",{method:"POST",body:JSON.stringify(e.value),header:{"Content-type":"application/json; charset=UTF-8"}});if(!s.ok)throw new ErrorCodes("Ошибка при отправке данных: "+s.status);const t=await s.json();console.log("Успех:",t),e.value={url:"",title:"",description:"",image:"",NewVision:"",NewVision2:"",NewVision3:"",NewVision4:""}}catch(s){console.log(s)}};return(s,t)=>(r(),v("div",V,[m,l("div",w,[l("div",N,[i(l("input",{type:"text",placeholder:"Название для URL","onUpdate:modelValue":t[0]||(t[0]=o=>e.value.url=o)},null,512),[[n,e.value.url]]),i(l("input",{type:"text",placeholder:"Название акции","onUpdate:modelValue":t[1]||(t[1]=o=>e.value.title=o)},null,512),[[n,e.value.title]]),i(l("input",{type:"text",placeholder:"Описание товара","onUpdate:modelValue":t[2]||(t[2]=o=>e.value.description=o)},null,512),[[n,e.value.description]]),i(l("input",{type:"url",placeholder:"Картинка товара","onUpdate:modelValue":t[3]||(t[3]=o=>e.value.image=o)},null,512),[[n,e.value.image]])]),c,l("div",y,[i(l("input",{type:"text",placeholder:"Нововвидение 1","onUpdate:modelValue":t[4]||(t[4]=o=>e.value.NewVision=o)},null,512),[[n,e.value.NewVision]]),i(l("input",{type:"text",placeholder:"Нововвидение 2","onUpdate:modelValue":t[5]||(t[5]=o=>e.value.NewVision2=o)},null,512),[[n,e.value.NewVision2]]),i(l("input",{type:"text",placeholder:"Нововвидение 3","onUpdate:modelValue":t[6]||(t[6]=o=>e.value.NewVision3=o)},null,512),[[n,e.value.NewVision3]]),i(l("input",{type:"text",placeholder:"Нововвидение 4","onUpdate:modelValue":t[7]||(t[7]=o=>e.value.NewVision4=o)},null,512),[[n,e.value.NewVision4]])]),l("button",{onClick:u,disabled:!a.value},"Отправить",8,f)])]))}};export{U as default};
