import{r as d,d as p,o as r,c as v,f as l,w as i,v as n}from"./index-j0T81mZz.js";const V={class:"add-promotion"},m=l("h2",null,"Добавить страницу акции",-1),w={class:"form"},N={class:"inputs"},c=l("h3",null,"Что нового?",-1),y={class:"inputs"},f=["disabled"],U={__name:"AddPromotionView",setup(x){const e=d({url:"",title:"",description:"",image:"",NewVision:"",NewVision2:"",NewVision3:"",NewVision4:""}),a=p(()=>e.value.url&&e.value.title&&e.value.description&&e.value.image&&e.value.NewVision),u=async()=>{try{const s=await fetch("https://5ea90011a42bf510.mokky.dev/promotions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)});if(!s.ok)throw new ErrorCodes("Ошибка при отправке данных: "+s.status);const o=await s.json();console.log("Успех:",o),e.value={url:"",title:"",description:"",image:"",NewVision:"",NewVision2:"",NewVision3:"",NewVision4:""}}catch(s){console.log(s)}};return(s,o)=>(r(),v("div",V,[m,l("div",w,[l("div",N,[i(l("input",{type:"text",placeholder:"Название для URL","onUpdate:modelValue":o[0]||(o[0]=t=>e.value.url=t)},null,512),[[n,e.value.url]]),i(l("input",{type:"text",placeholder:"Название акции","onUpdate:modelValue":o[1]||(o[1]=t=>e.value.title=t)},null,512),[[n,e.value.title]]),i(l("input",{type:"text",placeholder:"Описание товара","onUpdate:modelValue":o[2]||(o[2]=t=>e.value.description=t)},null,512),[[n,e.value.description]]),i(l("input",{type:"url",placeholder:"Картинка товара","onUpdate:modelValue":o[3]||(o[3]=t=>e.value.image=t)},null,512),[[n,e.value.image]])]),c,l("div",y,[i(l("input",{type:"text",placeholder:"Нововвидение 1","onUpdate:modelValue":o[4]||(o[4]=t=>e.value.NewVision=t)},null,512),[[n,e.value.NewVision]]),i(l("input",{type:"text",placeholder:"Нововвидение 2","onUpdate:modelValue":o[5]||(o[5]=t=>e.value.NewVision2=t)},null,512),[[n,e.value.NewVision2]]),i(l("input",{type:"text",placeholder:"Нововвидение 3","onUpdate:modelValue":o[6]||(o[6]=t=>e.value.NewVision3=t)},null,512),[[n,e.value.NewVision3]]),i(l("input",{type:"text",placeholder:"Нововвидение 4","onUpdate:modelValue":o[7]||(o[7]=t=>e.value.NewVision4=t)},null,512),[[n,e.value.NewVision4]])]),l("button",{onClick:u,disabled:!a.value},"Отправить",8,f)])]))}};export{U as default};
