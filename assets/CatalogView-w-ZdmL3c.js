import{_ as f,o as s,c,f as $,a as t,t as i,p as g,e as k,g as u,h as y,i as C,v as b,F as _,j as w,k as x}from"./index-CDIe1jQX.js";const I=e=>(g("data-v-7103a9bd"),e=e(),k(),e),L={class:"card"},P={key:0,class:"sale"},B=["src"],S={class:"card-body"},T={class:"price"},V={class:"buttons"},j=I(()=>t("button",{class:"buy"},"Купить",-1)),D={__name:"CardProduct",props:{product:Object},setup(e){const d=e.product.price*.5;return(o,l)=>(s(),c("div",L,[d<30?(s(),c("span",P,"50%")):$("",!0),t("img",{src:e.product.image,alt:"product"},null,8,B),t("div",S,[t("div",T,[t("p",null,i(d)+" $"),t("del",null,i(e.product.price)+" $",1)]),t("h3",null,i(e.product.title),1),t("div",V,[t("button",{onClick:l[0]||(l[0]=v=>o.$emit("addToCart",e.product))},"в корзину"),j])])]))}},F=f(D,[["__scopeId","data-v-7103a9bd"]]),N={class:"header"},A=t("h1",null,"Каталог",-1),E={class:"container"},M={key:0},O=t("div",{class:"loader"},null,-1),Q=[O],U={key:1,class:"catalog"},z={__name:"CatalogView",setup(e){const r=u([]),d=u(!0),o=u(""),l=u([]);(async()=>{const a=await fetch("https://fakestoreapi.com/products");r.value=await a.json(),d.value=!1})();const h=y(()=>o.value.trim()===""?r.value:r.value.filter(a=>a.title.toLowerCase().includes(o.value.toLocaleLowerCase()))),m=a=>{l.value.push(a)};return(a,p)=>(s(),c(_,null,[t("div",N,[A,C(t("input",{class:"search","onUpdate:modelValue":p[0]||(p[0]=n=>o.value=n),type:"text",placeholder:"Поиск"},null,512),[[b,o.value]])]),t("div",E,[d.value?(s(),c("div",M,Q)):(s(),c("div",U,[(s(!0),c(_,null,w(h.value,n=>(s(),x(F,{key:n.id,product:n,onAddToCart:m},null,8,["product"]))),128))]))])],64))}};export{z as default};
