import{_ as k,c as _,o as c,a as i,b as e,t as v,r as n,d as C,w as m,v as P,e as $,F as y,f as b,g as V,h as I,p as x,i as B}from"./index-jDiJIh5I.js";const L=async()=>await(await fetch("https://5ea90011a42bf510.mokky.dev/products")).json(),S={class:"card"},T={class:"image"},D=["src"],M={class:"card-body"},U={key:0},j={class:"price"},A={class:"sale-price"},F={key:1},H={class:"not-sale"},N={class:"buttons"},O={__name:"CardProduct",props:{product:Object},setup(s){const o=s,u=_(()=>o.product.price<30?o.product.price*.5:o.product.price);return _(()=>r=>Math.round(r.rating.rate)),(r,p)=>(c(),i("div",S,[e("div",T,[e("img",{src:s.product.image,alt:"product",loading:"lazy"},null,8,D)]),e("div",M,[o.product.price<30?(c(),i("div",U,[e("div",j,[e("p",A,v(u.value)+" $",1),e("del",null,v(s.product.price)+" $",1)])])):(c(),i("div",F,[e("p",H,v(s.product.price)+" $",1)])),e("h3",null,v(s.product.title),1),e("div",N,[e("button",{onClick:p[0]||(p[0]=d=>r.$emit("addToCart",s.product))},"Заказать")])])]))}},z=k(O,[["__scopeId","data-v-c9f51e38"]]),f=s=>(x("data-v-6ce06c9a"),s=s(),B(),s),E={class:"header"},Q={class:"sort"},R=f(()=>e("label",{for:"sort-asc"},"По возрастанию цены",-1)),q=f(()=>e("label",{for:"sort-desc"},"По убыванию цены",-1)),G={class:"container"},J={key:0,class:"loader-wrapper"},K=f(()=>e("div",{class:"loader"},null,-1)),W=[K],X={key:1,class:"catalog"},Y={__name:"HomeView",setup(s){n(!0);const o=n({}),u=n(!0),r=n(""),p=n([]),d=n("");(async()=>{const a=await L();o.value=a,u.value=!1})();const g=_(()=>{let a=o.value;return r.value.trim()!==""&&(a=a.filter(t=>t.title.toLowerCase().includes(r.value.toLowerCase()))),a.sort((t,h)=>d.value==="asc"?t.price-h.price:d.value==="desc"?h.price-t.price:0)}),w=a=>{p.value.push(a)};return _(()=>o.title==="Apple"?o.price*.5:o.price),(a,l)=>(c(),i(y,null,[C(V),e("div",E,[m(e("input",{class:"search","onUpdate:modelValue":l[0]||(l[0]=t=>r.value=t),type:"text",placeholder:"Поиск"},null,512),[[P,r.value]]),e("div",Q,[e("div",null,[m(e("input",{type:"radio",id:"sort-asc",value:"asc","onUpdate:modelValue":l[1]||(l[1]=t=>d.value=t)},null,512),[[$,d.value]]),R]),e("div",null,[m(e("input",{type:"radio",id:"sort-desc",value:"desc","onUpdate:modelValue":l[2]||(l[2]=t=>d.value=t)},null,512),[[$,d.value]]),q])])]),e("div",G,[u.value?(c(),i("div",J,W)):(c(),i("div",X,[(c(!0),i(y,null,b(g.value,t=>(c(),I(z,{key:t.id,product:t,onAddToCart:w,onClick:h=>a.$router.push({name:"product",params:{id:t.id}})},null,8,["product","onClick"]))),128))]))])],64))}},te=k(Y,[["__scopeId","data-v-6ce06c9a"]]);export{te as default};
